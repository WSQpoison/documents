# 1.3 用例规约

## 1.3.1 新成员邀请

**1. 简要说明**
 
本用例描述了群管理员向用户发送群邀请来完成群成员添加的过程。

**2. 参与者**
 
群管理员。 
 
**3. 事件流**

1 ) 基本事件流
 
&nbsp;&nbsp;&nbsp;&nbsp;用例开始于群管理员在群管理界面选择“添加成员”操作。
    
&nbsp;&nbsp;&nbsp;&nbsp;A. 系统显示用户搜索界面；
    
&nbsp;&nbsp;&nbsp;&nbsp;B. 群管理员将输入目标用户id，点击搜索，系统显示匹配的用户简要信息，以及“确认”按钮；
    
&nbsp;&nbsp;&nbsp;&nbsp;C. 群管理员点击“确认”按钮，进入发送群邀请消息子事件流。
    
1.1) 发送群邀请消息
    
&nbsp;&nbsp;&nbsp;&nbsp;A. 系统收到目标群id以及目标用户id，将该条记录临时存放在服务器数据库；
    
&nbsp;&nbsp;&nbsp;&nbsp;B. 系统等待目标用户主动请求消息列表，将群邀请信息发往目标用户
    
2) 备选事件流
    
2.1) 目标用户已是群成员
    
&nbsp;&nbsp;&nbsp;&nbsp;此时不进行任何操作，系统返回群管理界面。
    
2.2) 未查询到目标用户
    
&nbsp;&nbsp;&nbsp;&nbsp;此时系统停留在用户搜索界面，并等待群管理员进一步操作。
    
2.3) 群管理员点击“返回按钮”
    
&nbsp;&nbsp;&nbsp;&nbsp;此时系统返回上一级界面。
    
2.4) 系统被关闭
    
&nbsp;&nbsp;&nbsp;&nbsp;显示消息通知群管理员本用例终止，系统关闭后不能进行群成员添加。

3 ) 特殊需求

&nbsp;&nbsp;&nbsp;&nbsp;无。

4 ) 前置条件

&nbsp;&nbsp;&nbsp;&nbsp;本用例只对群管理员有效。

5 ) 后置条件

&nbsp;&nbsp;&nbsp;&nbsp;如果用例成功，将会向目标用户发送邀请消息，否则系统状态不变。
 
![新成员添加活动图][1]
 
  [1]: /images/groupMemberInviteActivityGraph.png

## 1.3.2 处理申请加入群信息

**1. 简要说明**

本用例描述了群管理员获取群加入申请消息列表并且进行处理的过程。

**2. 参与者**

群管理员。

**3. 事件流**

1 ) 基本事件流

&nbsp;&nbsp;&nbsp;&nbsp;用例开始于群管理员在群管理界面选择“处理申请”操作。

&nbsp;&nbsp;&nbsp;&nbsp;A. 系统显示群申请列表，对于列表每条记录，系统提供群管理员可执行的操作(同意或拒绝)；

&nbsp;&nbsp;&nbsp;&nbsp;B. 一旦群管理员在某一条记录上做出了处理，以下的一条子事件流将被执行：

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b1. 如果选择的是“同意”，添加群成员子事件流将被执行；

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b2. 如果选择的是“拒绝”，删除群申请信息子事件流将被执行；

1.1) 添加群成员

&nbsp;&nbsp;&nbsp;&nbsp;系统将目标用户加入群中，更新群相关信息，并在数据库中删除该条申请消息记录。

1.2) 删除群申请信息

&nbsp;&nbsp;&nbsp;&nbsp;在数据库中删除该条申请消息记录。

2) 备选事件流

2.1) 不进行任何操作，返回群管理界面

&nbsp;&nbsp;&nbsp;&nbsp;对于未处理的群申请记录，系统将其继续保存在数据库中，并等待下一次群管理员选择“处理申请”功能时，由系统返回并显示。

3) 特殊需求

&nbsp;&nbsp;&nbsp;&nbsp;同意群申请操作不可逆，对于被拒绝的用户，可以再次申请加入该群。

4) 前置条件

&nbsp;&nbsp;&nbsp;&nbsp;本用例仅限于目标群的管理员选择了“处理申请”功能才开始执行。

5) 后置条件

&nbsp;&nbsp;&nbsp;&nbsp;如果用例成功，申请来源用户将被加入群中或是被拒绝，且申请记录将被删除。否则系统状态保持不变。

![处理群申请活动图][2]
 
  [2]: /images/handleGroupApplyActivityGraph.png
  
## 1.3.3 修改个人信息

**1. 简要说明**

本用例允许用户修改个人信息，包括昵称、密码以及性别。

**2. 参与者**

用户。

**3. 事件流**

1 ) 基本事件流

&nbsp;&nbsp;&nbsp;&nbsp;用例开始于用户选择“修改个人信息”功能。

&nbsp;&nbsp;&nbsp;&nbsp;A. 系统显示用户的相关信息，包括id、昵称、密码、性别，其中id一栏为不可修改状态；

&nbsp;&nbsp;&nbsp;&nbsp;B. 用户进行相关信息的修改，修改完成后点击确认按钮；

&nbsp;&nbsp;&nbsp;&nbsp;C. 系统更新用户信息，并通知用户修改成功，并返回个人主页界面。

2) 备选事件流

2.1) 部分信息未修改

&nbsp;&nbsp;&nbsp;&nbsp;系统保留未修改项的原始信息。

2.2) 信息输入不合法

&nbsp;&nbsp;&nbsp;&nbsp;系统在相应信息项处显示不合法信息。

2.3) 取消修改并退出

&nbsp;&nbsp;&nbsp;&nbsp;系统保持原始状态，对于用户个人信息不做任何改动。

3 ) 特殊要求

&nbsp;&nbsp;&nbsp;&nbsp;无。

4 ) 前置条件

&nbsp;&nbsp;&nbsp;&nbsp;本用例开始前用户必须已经web端完成登录。

5 ) 后置条件

&nbsp;&nbsp;&nbsp;&nbsp;如果用例成功，用户的个人信息将改变，否则保持原始信息。

![修改个人信息活动图][3]
 
  [3]: /images/modifyUserInfoActivityGraph.png
  
  
